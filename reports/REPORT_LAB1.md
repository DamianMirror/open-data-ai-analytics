# Звіт лабораторної роботи
## Аналіз відкритих даних: прогнозні макроекономічні показники України на 2020–2021 роки

---

## Зміст

1. [Мета роботи](#1-мета-роботи)
2. [Датасет](#2-датасет)
3. [Завантаження даних](#3-завантаження-даних)
4. [Аналіз якості даних](#4-аналіз-якості-даних)
5. [Попередня обробка](#5-попередня-обробка)
6. [Візуалізація даних](#6-візуалізація-даних)
7. [Дослідження гіпотез](#7-дослідження-гіпотез)
   - [Гіпотеза 1: ВВП і реальні доходи](#71-гіпотеза-1--ввп-і-реальні-доходи)
   - [Гіпотеза 2: Інфляція і купівельна спроможність](#72-гіпотеза-2--інфляція-і-купівельна-спроможність)
   - [Гіпотеза 3: Зовнішня торгівля і безробіття](#73-гіпотеза-3--зовнішня-торгівля-і-безробіття)
8. [Модель машинного навчання](#8-модель-машинного-навчання)
9. [Висновки](#9-висновки)

---

## 1. Мета роботи

Метою лабораторної роботи є проведення повного циклу аналізу відкритих державних даних України: від завантаження та перевірки якості до побудови статистичних моделей і перевірки дослідницьких гіпотез.

**Завдання:**
- Завантажити та дослідити датасет прогнозних макроекономічних показників
- Перевірити якість даних (пропуски, типи, аномалії)
- Візуалізувати ключові показники в розрізі сценаріїв і років
- Перевірити три дослідницькі гіпотези за допомогою кореляційного аналізу
- Побудувати просту регресійну модель для передбачення рівня безробіття

---

## 2. Датасет

**Назва:** Основні прогнозні показники економічного і соціального розвитку України на 2020–2021 роки

**Джерело:** [data.gov.ua](https://data.gov.ua/dataset/175386f8-fbce-4352-8ec9-44fc8c436aa9/resource/6c67d91d-6455-472f-aeb1-f81fadd2cb37/download/nabir-16-2020-2021-roki_03-12-2018.csv)

**Формат:** CSV, розділювач — крапка з комою (`;`), кодування — CP1251

**Структура:** 17 рядків × 8 стовпців

| Стовпець | Опис |
|----------|------|
| `Unnamed: 0` | Порядковий номер показника (1–17) |
| `Показник` | Повна назва показника |
| `Прогноз 2020 сценарій 1` | Базовий сценарій 2020 |
| `Прогноз 2020 сценарій 2` | Оптимістичний сценарій 2020 |
| `Прогноз 2020 сценарій 3` | Песимістичний сценарій 2020 |
| `Прогноз 2021 сценарій 1` | Базовий сценарій 2021 |
| `Прогноз 2021 сценарій 2` | Оптимістичний сценарій 2021 |
| `Прогноз 2021 сценарій 3` | Песимістичний сценарій 2021 |

**Показники датасету:**

| # | Короткий код | Опис | Одиниця |
|---|-------------|------|---------|
| 1 | `gdp_nominal` | ВВП номінальний | млрд. грн |
| 2 | `gdp_real_pct` | ВВП реальний | % до поп. року |
| 3 | `cpi_avg` | ІСЦ середній | % |
| 4 | `cpi_dec` | ІСЦ грудень/грудень | % |
| 5 | `ppi_dec` | Індекс цін виробників | % |
| 6 | `enterprise_profit` | Прибуток підприємств | млрд. грн |
| 7 | `wage_fund` | Фонд оплати праці | млрд. грн |
| 8 | `avg_wage_nom` | Середня зарплата номінальна | грн |
| 9 | `avg_wage_real_pct` | Середня зарплата реальна | % до поп. року |
| 10 | `employed_mln` | Зайняті 15–70 р. | млн. осіб |
| 11 | `unemployment_pct` | Безробіття МОП | % |
| 12 | `real_income_pct` | Реальні доходи | % до поп. року |
| 13 | `current_account` | Сальдо поточного рахунку | млн. USD |
| 14 | `export` | Експорт товарів і послуг | млн. USD |
| 15 | `export_pct` | Експорт | % до поп. року |
| 16 | `import_` | Імпорт товарів і послуг | млн. USD |
| 17 | `import_pct` | Імпорт | % до поп. року |

---

## 3. Завантаження даних

Для завантаження реалізовано модуль `src/data_load.py` з двома функціями:

**`download(url, dest)`** — завантажує CSV-файл із відкритих даних і зберігає у `data/raw/`. Якщо файл вже існує — пропускає завантаження.

**`load(path)`** — читає CSV у `pandas.DataFrame`. Оскільки файл має кодування CP1251 (кирилиця), реалізовано автоматичний перебір кодувань: `utf-8` → `cp1251` → `latin-1`.

```
[ok] Завантажено 17 рядків, 8 колонок (encoding=cp1251)
```

---

## 4. Аналіз якості даних

Проведено у `notebooks/data_quality_analysis.ipynb`.

### Форма та типи

```
Форма: (17, 8)
```

Числові стовпці мають тип `object` (рядок), оскільки значення записані у форматі українського локалю: пробіл як роздільник тисяч, кома як десяткова крапка (`4 450,90`). Це є основною проблемою якості даних, яку необхідно усунути на етапі попередньої обробки.

### Пропущені значення

```
Unnamed: 0                 0
Показник                   0
Прогноз 2020 сценарій 1    0
...
Прогноз 2021 сценарій 3    0
dtype: int64
```

**Пропущені значення відсутні.** Всі 17 показників мають значення для кожного з 6 сценаріїв.

### Унікальність

Кожен рядок відповідає унікальному показнику (17 унікальних значень у стовпці `Показник`), дублікатів немає.

### Висновок по якості

Датасет є повним і консистентним. Єдиний необхідний крок перед аналізом — парсинг числових значень із рядкового формату.

---

## 5. Попередня обробка

Реалізовано у `notebooks/analysis_and_models.ipynb`.

### Парсинг числових значень

```python
def parse_num(val):
    s = re.sub(r'\s', '', str(val).strip())  # прибрати пробіли
    return float(s.replace(',', '.'))         # кома → крапка
```

Приклади перетворення:
- `"4 450,90"` → `4450.9`
- `"-12 195"` → `-12195.0`
- `"103,8"` → `103.8`

### Перетворення у tidy-формат

Вихідні дані мають широкий (wide) формат: кожен рядок — показник, кожен стовпець — сценарій. Для зручності аналізу дані перетворено у довгий (long) формат:

| short | year | scenario | value |
|-------|------|----------|-------|
| gdp_nominal | 2020 | 1 | 4450.9 |
| gdp_nominal | 2020 | 2 | 4609.0 |
| ... | ... | ... | ... |

Зведена таблиця `pivot` (6 рядків × 17 стовпців) використовується для кореляційного аналізу та побудови моделі.

---

## 6. Візуалізація даних

Усі графіки збережено у `reports/figures/`. Проведено у `notebooks/data_visualization.ipynb`.

### 6.1 ВВП

Номінальний ВВП стабільно зростає від 2020 до 2021 в усіх трьох сценаріях. Оптимістичний сценарій (С2) передбачає найвищий рівень (5 223,9 млрд. грн у 2021), песимістичний (С3) — найнижчий. Реальне зростання ВВП знаходиться у діапазоні 101,6–105,4%.

### 6.2 Цінові індекси

ІСЦ середній у 2020 (106,7–109,9%) вищий, ніж у 2021 (105,5–107,8%), що свідчить про прогнозоване сповільнення інфляції. Найвищу інфляцію передбачає песимістичний сценарій, найнижчу — базовий.

### 6.3 Ринок праці

Зайнятість коливається у вузькому діапазоні (16,38–16,70 млн. осіб). Безробіття знижується від 2020 до 2021 в базовому та оптимістичному сценаріях (8,5→8,3% та 8,2→7,8%), але залишається стабільно високим у песимістичному (9,0→8,9%).

### 6.4 Заробітна плата

Середня номінальна зарплата зростає у всіх сценаріях: від 11 359–12 137 грн (2020) до 12 663–13 766 грн (2021). Реальне зростання зарплати становить 102,2–106,9% залежно від сценарію та року.

### 6.5 Зовнішня торгівля

Імпорт перевищує експорт у всіх сценаріях, формуючи від'ємний торговий баланс (-11 224 до -16 015 млн. USD). Найбільший дефіцит — в оптимістичному сценарії 2021 (-16 015 млн. USD), оскільки внутрішній попит зростає швидше за виробничі потужності.

### 6.6 Радарний графік сценаріїв

Нормалізоване порівняння 5 ключових показників 2021 року показує, що оптимістичний сценарій (С2) домінує за всіма вимірами: ВВП, зарплата, доходи, експорт, зайнятість. Песимістичний сценарій (С3) є найгіршим за всіма параметрами.

---

## 7. Дослідження гіпотез

### 7.1 Гіпотеза 1 — ВВП і реальні доходи

> **Гіпотеза:** позитивна динаміка ВВП супроводжується пропорційним зростанням реальної заробітної плати та наявних доходів.

**Метод:** кореляція Пірсона між `gdp_real_pct` та `avg_wage_real_pct` / `real_income_pct` по 6 спостереженнях (3 сценарії × 2 роки).

**Результати:**

| Пара показників | r | p-value |
|----------------|---|---------|
| ВВП реальний ↔ Реальна зарплата | **0.9597** | 0.0024 |
| ВВП реальний ↔ Реальні доходи | **0.9902** | 0.0001 |

Реальна зарплата зростає **швидше** за ВВП у всіх 6 сценаріях:

| Сценарій | ВВП реальний, % | Реальна зарплата, % |
|----------|----------------|---------------------|
| 2020 С1 | 103,8 | 106,0 |
| 2020 С2 | 105,0 | 106,2 |
| 2020 С3 | 101,6 | 102,2 |
| 2021 С1 | 104,1 | 106,2 |
| 2021 С2 | 105,4 | 106,9 |
| 2021 С3 | 102,1 | 103,4 |

**Висновок: ✔ Гіпотеза підтверджується.** Сильна позитивна кореляція (r > 0.95, p < 0.01) свідчить про те, що в усіх прогнозних сценаріях зростання ВВП супроводжується пропорційним зростанням реальних доходів населення. Більше того, зарплата зростає швидше за ВВП — держава прогнозує покращення добробуту громадян випереджаючими темпами.

---

### 7.2 Гіпотеза 2 — Інфляція і купівельна спроможність

> **Гіпотеза:** коли темп інфляції (ІСЦ) перевищує темп зростання номінальних доходів, реальна купівельна спроможність населення знижується.

**Метод:** аналіз різниці `avg_wage_real_pct − cpi_avg` (позитивне значення = купівельна спроможність зростає), кореляція Пірсона між `cpi_avg` та `avg_wage_real_pct`.

**Результати:**

| Сценарій | ІСЦ середній, % | Реальна зарплата, % | Різниця (п.п.) |
|----------|----------------|---------------------|----------------|
| 2020 С1 | 106,7 | 106,0 | **−0,7** |
| 2020 С2 | 107,9 | 106,2 | **−1,7** |
| 2020 С3 | 109,9 | 102,2 | **−7,7** |
| 2021 С1 | 105,5 | 106,2 | **+0,7** |
| 2021 С2 | 106,1 | 106,9 | **+0,8** |
| 2021 С3 | 107,8 | 103,4 | **−4,4** |

```
r(ІСЦ, реальна зарплата) = −0.8364,  p = 0.0379
Купівельна спроможність позитивна лише у 2 з 6 сценаріїв (2021 базовий та оптимістичний)
```

**Висновок: ✔ Гіпотеза підтверджується.** Від'ємна кореляція r = −0.84 (p < 0.05) підтверджує: вищий рівень інфляції пов'язаний з нижчим реальним зростанням зарплати. У 4 з 6 сценаріїв ІСЦ перевищує реальне зростання зарплати, тобто купівельна спроможність фактично знижується. Лише у 2021 році при базовому та оптимістичному сценаріях (з нижчою інфляцією 105,5% і 106,1%) зарплата випереджає ціни. Критичним є песимістичний сценарій 2020: при інфляції 109,9% реальна зарплата зростає лише на 102,2% — розрив становить 7,7 п.п.

---

### 7.3 Гіпотеза 3 — Зовнішня торгівля і безробіття

> **Гіпотеза:** зростання експорту знижує рівень безробіття; від'ємне торгове сальдо не має прямого кореляційного зв'язку з ринком праці в короткостроковій перспективі.

**Метод:** кореляція Пірсона між обсягами/темпами експорту та `unemployment_pct`, між торговим балансом та `unemployment_pct`.

**Результати:**

| Показник | r | p-value |
|----------|---|---------|
| Експорт (млн. USD) ↔ Безробіття | **−0.8240** | 0.0438 |
| Темп зростання експорту % ↔ Безробіття | **−0.9238** | 0.0085 |
| Торговий баланс ↔ Безробіття | **+0.9326** | 0.0067 |

Торговий баланс від'ємний у **всіх 6 сценаріях** (від −11 224 до −16 015 млн. USD).

Парадоксально, але позитивна кореляція торгового балансу з безробіттям пояснюється тим, що оптимістичний сценарій (найнижче безробіття) передбачає найбільший дефіцит торгівлі — через стрімке зростання внутрішнього споживання та імпорту. Тобто рушієм зниження безробіття є **внутрішнє зростання**, а не покращення торгового балансу.

**Висновок: ✔ Гіпотеза підтверджується.** Сильна від'ємна кореляція темпу зростання експорту з безробіттям (r = −0.92, p < 0.01) підтверджує першу частину гіпотези. Торговий баланс (від'ємний в усіх сценаріях) не є прямим предиктором зниження безробіття — підтверджується і друга частина гіпотези.

---

## 8. Модель машинного навчання

### Постановка задачі

Побудовано лінійну регресію для передбачення рівня безробіття (`unemployment_pct`) на основі двох незалежних змінних:
- `gdp_real_pct` — реальний ВВП (% до попереднього року)
- `export_pct` — темп зростання експорту (% до попереднього року)

Вибір ознак обґрунтований результатами кореляційного аналізу: обидва показники мають найвищу кореляцію з безробіттям.

### Навчання

```python
from sklearn.linear_model import LinearRegression

model = LinearRegression()
model.fit(X_train, y_train)
```

Навчальна вибірка: 6 спостережень (3 сценарії × 2 роки).

### Результати

```
Рівняння: unemployment = 119.94 − 0.54 × gdp_real_pct − 0.64 × export_pct

Вільний член:            119.94
Коефіцієнт gdp_real_pct:  −0.54  (зростання ВВП на 1% → −0.54 п.п. безробіття)
Коефіцієнт export_pct:    −0.64  (зростання експорту на 1% → −0.64 п.п. безробіття)

R²  = 0.97
MAE = 0.08 п.п.
```

Модель пояснює **97% дисперсії** рівня безробіття. Середня абсолютна похибка становить лише 0,08 п.п. — дуже висока точність для даної вибірки.

### Передбачення для гіпотетичних сценаріїв

| Сценарій | ВВП реальний, % | Експорт, % | Безробіття (прогноз) |
|----------|----------------|------------|---------------------|
| Оптимістичний | 106,0 | 112,0 | **~7.1%** |
| Базовий | 104,0 | 108,0 | **~8.5%** |
| Песимістичний | 100,5 | 103,0 | **~11.4%** |

### Обмеження моделі

- Навчальна вибірка — лише 6 точок, що є суттєвим обмеженням для узагальнення
- Модель навчена та тестується на одних і тих самих даних (немає відкладеної тестової вибірки)
- Лінійна регресія передбачає лінійний зв'язок, що може бути спрощенням реальності
- Датасет є **прогнозним** (не фактичним), тому модель описує внутрішню консистентність урядового прогнозу, а не реальні економічні закономірності

---

## 9. Висновки

| Гіпотеза | Результат | Ключова метрика |
|----------|-----------|----------------|
| Г1: ВВП ↔ реальні доходи | ✔ Підтверджена | r = 0.96–0.99, p < 0.01 |
| Г2: Інфляція ↔ купівельна спроможність | ✔ Підтверджена | r = −0.84, p < 0.05 |
| Г3: Експорт ↔ безробіття | ✔ Підтверджена | r = −0.92, p < 0.01 |

**Загальні спостереження:**

1. Урядовий прогноз є внутрішньо консистентним: усі три сценарії утворюють логічно пов'язану систему показників.

2. Оптимістичний сценарій (С2) передбачає найвищий ВВП, зарплати та зайнятість, але й найвищий торговий дефіцит — що є реалістичним відображенням зв'язку між внутрішнім зростанням та імпортом.

3. Найбільшим ризиком у песимістичному сценарії є поєднання високої інфляції (109,9%) з низьким реальним зростанням зарплати (102,2%) — реальне падіння купівельної спроможності на 7,7 п.п.

4. Модель лінійної регресії (R² = 0.97) підтверджує, що в межах даного прогнозу рівень безробіття майже повністю визначається динамікою ВВП і експорту — що відповідає класичним макроекономічним закономірностям (закон Оукена).

---


